<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Manray</title>
    <link rel="stylesheet" type="text/css" href={{ url_for('static', filename="css/style.css")}}>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
</head>
<body>
    <!-- loader -->
    <div class="bg-loader">
        <div class="loader"></div>
    </div>
  
    <!-- header -->
    <div class="medsos">
        <div class="container">
            <ul>
              <li><a href="#"><i class="fab fa-facebook"></i></a></li>
              <li><a href="#"><i class="fab fa-youtube"></i></a></li>
              <li><a href="#"><i class="fab fa-twitter"></i></a></li>
            </ul>
        </div>
    </div>
    <header>
        <div class="container">
            <h1><a href="index.html">MANRAY</a></h1>
            <ul>
                <li><a href="{{url_for('home') }}">HOME</a></li>
                <li><a href="{{url_for('about') }}">ABOUT</a></li>
                <li><a href="{{url_for('predik') }}">PREDIKSI</a></li>
                <li class="active"><a href="{{url_for('chatbot') }}">CHATBOT</a></li>
                <li><a href="{{url_for('contact') }}">CONTACT</a></li>
            </ul>
        </div>
    </header>
  
    <!-- label -->
    <section class="label">
      <div class="container">
        <p>Home / Chatbot Sistem Informasi IHSG</p>
      </div>
    </section>

<!-- <head>
  <meta charset="UTF-8">
  <title>CHATBOT INFORMASI IHSG</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename="css/style.css") }}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  
</head> -->

<body>
    <!-- Header -->
    <!-- <section class = >
      <div class="container">
        <h4>CHATBOT SISTEM INFORMASI IHSG <style></style></h4>
        <p>Indeks Harga Saham Gabungan (IHSG) adalah indeks yang mengukur kinerja harga semua saham yang tercatat di Bursa Efek Indonesia. Di pasar global, IHSG juga dikenal sebagai Indonesia Composite Index (ICI) atau IDX Composite. IHSG dihitung dengan menggunakan rata-rata berimbang berdasarkan jumlah saham di bursa atau Market Value Weighted Average Index. Data ini dihitung setiap hari bursa yaitu Senin sampai dengan Jumat pukul 09.00-16.00 WIB, sehingga menghasilkan data secara update.</p>
      </div>
    </section> -->

    <!-- <nav class="navbar navbar-expand-lg navbar-white bg-white">
        <div class="container">
            <img src="static/img/logo.png" height="50", width="auto">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mob-navbar" aria-label="Toggle">
            <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="mob-navbar">
                <div class="navbar-nav mt-2 mb-2 mb-lg-0 mx-auto">
                  <h4>Chatbot Sistem Informasi IHSG </h4>
                </div>
                <div class="d-flex">
                  <img src="static/img/ilustration.png" height="50", width="auto">
                </div>
            </div>
        </div>
      </nav> -->
    <!-- Header End  -->
    <!--   Header -->
</div>
</div>
<!-- <div class="container mt-5">
    <div class="card">
 <div class="card-body text-center">
    </div>
</div>
  </div> -->
  <!-- Header End  -->
    <!-- Chatbot Body -->
    <div class="chatbot-body">
      <div class="msger">
        <header class="msger-header">
          <div class="msger-header-title">
            <i class="fas fa-robot"></i> Manray <i class="fas fa-robot"></i>
          </div>
        </header>
    
        <main class="msger-chat">
          <div class="msg left-msg">
            <div class="msg-img"></div>
            <div class="msg-bubble">
              <div class="msg-info">
                <div class="msg-info-name">Manray</div>
                <div class="now">Sekarang</div>
              </div>
    
              <div class="msg-text">
                ðŸ‘‹ Halo, dengan Manray disini. Ada yang bisa dibantu?
              </div>
            </div>
          </div>
        </main>
    
        <form class="msger-inputarea">
          <input type="text" class="msger-input" id="textInput" placeholder="Masukkan pesanmu disini...">
          <button type="submit" class="msger-send-btn">Kirim</button>
        </form>
      </div>
    </div>
    <!-- Chatbot Body End  -->

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js" integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="js/all.js"></script>
    <script>
      const msgerForm = get(".msger-inputarea");
      const msgerInput = get(".msger-input");
      const msgerChat = get(".msger-chat");

      // Icons made by Freepik from www.flaticon.com
      const BOT_IMG = "/static/img/kadekbot.png";
      const PERSON_IMG = "/static/img/user.png";
      const BOT_NAME = "Manray";
      const PERSON_NAME = "Kamu";

      msgerForm.addEventListener("submit", event => {
        event.preventDefault();

        const msgText = msgerInput.value;
        if (!msgText) return;

        appendMessage(PERSON_NAME, PERSON_IMG, "right", msgText);
        msgerInput.value = "";
        botResponse(msgText);
      });

      function appendMessage(name, img, side, text) {
        //   Simple solution for small apps
        const msgHTML = `
        <div class="msg ${side}-msg">
          <div class="msg-img" style="background-image: url(${img})"></div>

          <div class="msg-bubble">
            <div class="msg-info">
              <div class="msg-info-name">${name}</div>
              <div class="msg-info-time">${formatDate(new Date())}</div>
            </div>

            <div class="msg-text">${text}</div>
          </div>
        </div>
        `;

        msgerChat.insertAdjacentHTML("beforeend", msgHTML);
        msgerChat.scrollTop += 500;
      }

      function botResponse(rawText) {
        // Bot Response
        $.get("/get", { msg: rawText }).done(function (data) {
          console.log(rawText);
          console.log(data);
          const msgText = data;
          appendMessage(BOT_NAME, BOT_IMG, "left", msgText);

        });

      }

      // Utils
      function get(selector, root = document) {
        return root.querySelector(selector);
      }

      function formatDate(date) {
        const h = "0" + date.getHours();
        const m = "0" + date.getMinutes();

        return `${h.slice(-2)}:${m.slice(-2)}`;
      }
    </script>
    
    	<!-- footer -->
	<footer>
		<div class="container">
			<small>Copyright &copy; 2022 - Manray. All Rights Reserved.</small>
		</div>
	</footer>


	<script type="text/javascript">
		$(document).ready(function(){
			$(".bg-loader").hide();
		})
	</script>
</body>
</html>
</body>

</html>